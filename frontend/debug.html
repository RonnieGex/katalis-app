<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug InteractiveDemo</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #0f0f0f;
            color: #fff;
            font-family: Arial, sans-serif;
        }
        .debug-section {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #333;
            border-radius: 8px;
        }
        .error { color: #ff6b6b; }
        .success { color: #51cf66; }
        .warning { color: #ffd43b; }
    </style>
</head>
<body>
    <h1>üîç Debug: Interactive Demo Component</h1>
    
    <div class="debug-section">
        <h2>1. ¬øSe est√° cargando la p√°gina?</h2>
        <p class="success">‚úÖ Si ves esto, la p√°gina base est√° funcionando</p>
        <p>Timestamp: <span id="timestamp"></span></p>
    </div>

    <div class="debug-section">
        <h2>2. ¬øEst√° funcionando JavaScript?</h2>
        <div id="js-test">‚ùå JavaScript no est√° funcionando</div>
    </div>

    <div class="debug-section">
        <h2>3. Test de Intersection Observer</h2>
        <div id="observer-test">üîÑ Probando Intersection Observer...</div>
        <div id="target" style="height: 100px; background: #333; margin: 1000px 0;">
            Elemento de prueba - scroll hacia aqu√≠
        </div>
    </div>

    <div class="debug-section">
        <h2>4. Informaci√≥n del navegador</h2>
        <div id="browser-info"></div>
    </div>

    <div class="debug-section">
        <h2>5. Errores de consola</h2>
        <div id="console-errors">No hay errores capturados a√∫n...</div>
    </div>

    <script>
        // Test b√°sico de JavaScript
        document.getElementById('js-test').innerHTML = '‚úÖ JavaScript est√° funcionando';
        document.getElementById('timestamp').textContent = new Date().toLocaleString();

        // Informaci√≥n del navegador
        const browserInfo = `
            User Agent: ${navigator.userAgent}<br>
            Viewport: ${window.innerWidth}x${window.innerHeight}<br>
            Location: ${window.location.href}<br>
            Protocol: ${window.location.protocol}
        `;
        document.getElementById('browser-info').innerHTML = browserInfo;

        // Test de Intersection Observer
        if ('IntersectionObserver' in window) {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        document.getElementById('observer-test').innerHTML = '‚úÖ Intersection Observer funcionando - elemento visible!';
                        document.getElementById('observer-test').className = 'success';
                    } else {
                        document.getElementById('observer-test').innerHTML = 'üëÅÔ∏è Intersection Observer funcionando - elemento no visible';
                        document.getElementById('observer-test').className = 'warning';
                    }
                });
            }, {
                threshold: 0.1,
                rootMargin: '50px'
            });

            observer.observe(document.getElementById('target'));
        } else {
            document.getElementById('observer-test').innerHTML = '‚ùå Intersection Observer NO soportado';
            document.getElementById('observer-test').className = 'error';
        }

        // Capturar errores de consola
        const originalError = console.error;
        const originalWarn = console.warn;
        let errors = [];

        console.error = function(...args) {
            errors.push(`ERROR: ${args.join(' ')}`);
            updateErrorDisplay();
            originalError.apply(console, args);
        };

        console.warn = function(...args) {
            errors.push(`WARNING: ${args.join(' ')}`);
            updateErrorDisplay();
            originalWarn.apply(console, args);
        };

        function updateErrorDisplay() {
            const errorDiv = document.getElementById('console-errors');
            if (errors.length > 0) {
                errorDiv.innerHTML = errors.map(err => `<div class="error">${err}</div>`).join('');
            } else {
                errorDiv.innerHTML = '‚úÖ No hay errores de consola';
                errorDiv.className = 'success';
            }
        }

        // Test inicial
        setTimeout(updateErrorDisplay, 1000);

        // Test de carga de m√≥dulos ES6
        setTimeout(async () => {
            try {
                const testModule = await import('/src/components/animations/InteractiveDemo.tsx');
                document.getElementById('console-errors').innerHTML += '<div class="success">‚úÖ M√≥dulo InteractiveDemo se puede importar</div>';
            } catch (error) {
                document.getElementById('console-errors').innerHTML += `<div class="error">‚ùå Error importando InteractiveDemo: ${error.message}</div>`;
            }
        }, 2000);
    </script>
</body>
</html>